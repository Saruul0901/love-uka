<!-- Replace just the audio portion and script in your HTML with this -->

<!-- Audio section -->
<div class="audio-container">
    <audio id="birthdaySong" loop>
        <source src="thousand.mp3" type="audio/mpeg">
        Your browser doesn't support audio.
    </audio>
</div>

<script>
    const message = "Hey! These moments with you are my treasures. I still remember the day god sent you to my life. That is the most precious moment of my lifetime. Hope this makes your birthday magical! Love you! ðŸ’•";
    let i = 0;
    const speed = 100;
    function typeWriter() {
        if (i < message.length) {
            document.getElementById("typewriter").innerHTML += message.charAt(i);
            i++;
            setTimeout(typeWriter, speed);
        }
        document.getElementById("typewriter").style.opacity = 1;
    }

    const images = document.querySelectorAll(".slideshow img");
    let currentIndex = 0;
    function nextImage() {
        images[currentIndex].classList.remove("active");
        currentIndex = (currentIndex + 1) % images.length;
        images[currentIndex].classList.add("active");
    }
    setInterval(nextImage, 3000);

    function createConfetti() {
        const confetti = document.createElement("div");
        confetti.className = "confetti";
        confetti.style.left = Math.random() * 100 + "vw";
        confetti.style.background = ["#ff69b4", "#ff1493", "#dda0dd"][Math.floor(Math.random() * 3)];
        confetti.style.animationDuration = Math.random() * 3 + 2 + "s";
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 5000);
    }
    setInterval(createConfetti, 200);

    // A more aggressive approach to start audio playing
    function attemptPlayAudio() {
        const audio = document.getElementById('birthdaySong');
        
        // Try playing on page load
        audio.play().catch(e => {
            console.log('Initial autoplay prevented, trying alternative methods');
        });
        
        // Try playing on any user interaction
        const playAttempt = function() {
            audio.play().catch(e => console.log('Play attempt failed'));
            // Keep trying in case it didn't work the first time
        };
        
        // Multiple event listeners to catch any possible interaction
        document.addEventListener('click', playAttempt);
        document.addEventListener('touchstart', playAttempt);
        document.addEventListener('keydown', playAttempt);
        document.addEventListener('scroll', playAttempt);
        
        // Also try playing after a short delay (for some mobile browsers)
        setTimeout(() => {
            audio.play().catch(e => console.log('Delayed play attempt failed'));
        }, 1000);
    }

    window.onload = function() {
        typeWriter();
        attemptPlayAudio();
    };
</script>
